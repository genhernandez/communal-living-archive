<!DOCTYPE html>
<html>
    <head>
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
     <script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
        
     <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
     <script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
     <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
     <script src="https://npmcdn.com/aframe-template-component@3.1.1"></script>
    </head>
    <body>
        <script>
        AFRAME.registerComponent('audiohandler', {
            init:function() {
            let playing = false;
            let audio = this.el.components.sound;
            this.el.setAttribute("src", "https://upload.wikimedia.org/wikipedia/commons/b/bd/Bizet_-_Carmen_-_Toreador_Song_%28French%2C_Musopen%29.ogg");
            
            this.el.addEventListener('click', () => {
                if(!playing) {
                audio.playSound();
                } else {
                audio.pauseSound();
                }
            playing = !playing;
            });
        }
        })
    </script>
        <a-scene cursor="rayOrigin:mouse">
            <a-assets>
                <img id="pano1" src="../assets/img/pano/streetView.jpg">    
            </a-assets >
            <a-sky src="#pano1" ></a-sky>
            <a-sound geometry="primitive:box; width: 1; height: 1; depth: 1;"
                 position="0 2 -5"
                 autoplay="false"
                 audiohandler></a-sound>
            
        </a-scene>
    </body>

</html>