<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.0.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
     <script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
     <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
     <script src="https://npmcdn.com/aframe-template-component@3.1.1"></script>
    </head>
  <body>
    <!-- Try changing the preset to one of default, contact, egypt, checkerboard, forest, goaland, yavapai, goldmine, 
         threetowers, poison, arches, tron, japan, dream, volcano, starry, osiris. -->
    <!-- See more environment options: https://github.com/feiss/aframe-environment-component#parameters -->
      <script>
        AFRAME.registerComponent('audiohandler', {
            init:function() {
            let playing = false;
            let audio = this.el.components.sound;
            this.el.setAttribute("src", "https://upload.wikimedia.org/wikipedia/commons/b/bd/Bizet_-_Carmen_-_Toreador_Song_%28French%2C_Musopen%29.ogg");
            
            this.el.addEventListener('click', () => {
                if(!playing) {
                audio.playSound();
                } else {
                audio.pauseSound();
                }
            playing = !playing;
            });
        }
        })
    </script>
    <a-scene cursor="rayOrigin:mouse" environment ="preset: dream" >
        <a-sound geometry="primitive:box; width: 1; height: 1; depth: 1;"
                 position="1 1 -5"
                 autoplay="false"
                 audiohandler></a-sound>
    </a-scene>
  </body>
</html>

